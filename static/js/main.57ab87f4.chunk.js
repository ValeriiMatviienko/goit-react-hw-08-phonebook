(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{14:function(e,t,n){e.exports={form:"Signup_form__1aBBq",heading:"Signup_heading__1PoNb",label:"Signup_label__1La9K",input:"Signup_input__3Q7Mn",cybrbtn:"Signup_cybrbtn__qE9De",cybrbtn__glitch:"Signup_cybrbtn__glitch__1CEDk",glitch:"Signup_glitch__2aZPy"}},21:function(e,t,n){e.exports={form:"Login_form__1IXZt",heading:"Login_heading__15SxM",label:"Login_label__1Wcrj",input:"Login_input__haSlu",cybrbtn:"Login_cybrbtn__1jcTp",cybrbtn__glitch:"Login_cybrbtn__glitch__3jftk",glitch:"Login_glitch__nLwqi"}},24:function(e,t,n){e.exports={form:"InputForm_form__1OZgK",label:"InputForm_label__bK7zL",input:"InputForm_input__3z5O-",btn:"InputForm_btn__1JiV1"}},26:function(e,t,n){e.exports={container:"Navigation_container__6gQiR",cybrbtn:"Navigation_cybrbtn__2sjCh",cybrbtn__glitch:"Navigation_cybrbtn__glitch__1CAvk",glitch:"Navigation_glitch__eXvEF"}},27:function(e,t,n){e.exports={container:"LoginMenu_container__2Pavh",cybrbtn:"LoginMenu_cybrbtn__3HZNO",cybrbtn__glitch:"LoginMenu_cybrbtn__glitch__1p8BA",glitch:"LoginMenu_glitch__30F8K"}},29:function(e,t,n){e.exports={list:"Phonebook_list__3UO7Z",item:"Phonebook_item__vsJyN",close:"Phonebook_close__1Xn08"}},31:function(e,t,n){e.exports={container:"UserMenu_container__2bBdp",avatar:"UserMenu_avatar__3rr9Y",name:"UserMenu_name__hY8hc",button:"UserMenu_button__1BsAd"}},37:function(e,t,n){e.exports={wrapper:"Filter_wrapper__1NW2c",label:"Filter_label__mBgs8",input:"Filter_input__2-g5p"}},43:function(e,t,n){e.exports={section:"Container_section__3O-B5",heading:"Container_heading__AzcvQ"}},56:function(e,t,n){e.exports={appbar:"Appbar_appbar__2tcHO"}},57:function(e,t,n){e.exports={heading:"HomeView_heading__2dV2_"}},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r,c,a,o,s,u,i=n(1),b=n.n(i),l=n(32),j=n.n(l),h=n(13),p=n(4),d=n(54),f=n(35),O=n(3),m=n(22),g=n(55),_=n.n(g),x=n(2),v=n(6),y=Object(O.b)("contacts/fetchContactsRequest"),C=Object(O.b)("contacts/fetchContactsSuccess"),N=Object(O.b)("contacts/fetchContactsError"),S=Object(O.b)("contacts/addContactRequest"),k=Object(O.b)("contacts/addContactSuccess"),w=Object(O.b)("contacts/addContactError"),E=Object(O.b)("contacts/deleteContactRequest"),L=Object(O.b)("contacts/deleteContactSuccess"),U=Object(O.b)("contacts/deleteContactError"),A=Object(O.b)("contacts/changeFilter"),R=Object(O.c)([],(r={},Object(x.a)(r,C,(function(e,t){return t.payload})),Object(x.a)(r,k,(function(e,t){var n=t.payload;return[].concat(Object(f.a)(e),[n])})),Object(x.a)(r,L,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),q=Object(O.c)(!1,(c={},Object(x.a)(c,y,(function(){return!0})),Object(x.a)(c,C,(function(){return!1})),Object(x.a)(c,N,(function(){return!1})),Object(x.a)(c,S,(function(){return!0})),Object(x.a)(c,k,(function(){return!1})),Object(x.a)(c,w,(function(){return!1})),Object(x.a)(c,E,(function(){return!0})),Object(x.a)(c,L,(function(){return!1})),Object(x.a)(c,U,(function(){return!1})),c)),F=Object(O.c)("",Object(x.a)({},A,(function(e,t){return t.payload}))),P=Object(O.c)(null,{}),M=Object(v.c)({contacts:R,filter:F,loading:q,error:P}),T={registerRequest:Object(O.b)("auth/registerRequest"),registerSuccess:Object(O.b)("auth/registerSuccess"),registerError:Object(O.b)("auth/registerError"),loginRequest:Object(O.b)("auth/loginRequest"),loginSuccess:Object(O.b)("auth/loginSuccess"),loginError:Object(O.b)("auth/loginError"),logoutRequest:Object(O.b)("auth/logoutRequest"),logoutSuccess:Object(O.b)("auth/logoutSuccess"),logoutError:Object(O.b)("auth/logoutError"),getCurrentUserRequest:Object(O.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(O.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(O.b)("auth/getCurrentUserError")},B={name:null,email:null},D=Object(O.c)(B,(a={},Object(x.a)(a,T.registerSuccess,(function(e,t){return t.payload.user})),Object(x.a)(a,T.loginSuccess,(function(e,t){return t.payload.user})),Object(x.a)(a,T.logoutSuccess,(function(){return B})),Object(x.a)(a,T.getCurrentUserSuccess,(function(e,t){return t.payload})),a)),I=Object(O.c)(null,(o={},Object(x.a)(o,T.registerSuccess,(function(e,t){return t.payload.token})),Object(x.a)(o,T.loginSuccess,(function(e,t){return t.payload.token})),Object(x.a)(o,T.logoutSuccess,(function(){return null})),o)),z=Object(O.c)(null,(s={},Object(x.a)(s,T.registerError,(function(e,t){return t.payload})),Object(x.a)(s,T.loginError,(function(e,t){return t.payload})),Object(x.a)(s,T.logoutError,(function(e,t){return t.payload})),Object(x.a)(s,T.getCurrentUserError,(function(e,t){return t.payload})),s)),H=Object(O.c)(!1,(u={},Object(x.a)(u,T.registerSuccess,(function(){return!0})),Object(x.a)(u,T.loginSuccess,(function(){return!0})),Object(x.a)(u,T.getCurrentUserSuccess,(function(){return!0})),Object(x.a)(u,T.registerError,(function(){return!1})),Object(x.a)(u,T.loginError,(function(){return!1})),Object(x.a)(u,T.getCurrentUserError,(function(){return!1})),Object(x.a)(u,T.logoutSuccess,(function(){return!1})),u)),Z=Object(v.c)({user:D,token:I,isAuthenticated:H,error:z}),J=Object(f.a)(Object(O.d)({serializableCheck:{ignoredActions:[m.a,m.f,m.b,m.c,m.d,m.e]}})),K={key:"auth",storage:_.a,whitelist:["token"]},Q=Object(O.a)({reducer:{auth:Object(m.g)(K,Z),contacts:M},middleware:J,devTools:!1}),V={store:Q,persistor:Object(m.h)(Q)},W=n(15),X=n(16),G=n(18),Y=n(17),$=n(5),ee=n(26),te=n.n(ee),ne=n(0),re=function(){return Object(ne.jsxs)("div",{className:te.a.container,children:[Object(ne.jsxs)(h.b,{className:te.a.cybrbtn,exact:!0,to:"/",children:[Object(ne.jsx)("span",{"aria-hidden":!0,className:te.a.cybrbtn__glitch,children:"Home"}),"Home"]}),Object(ne.jsxs)(h.b,{className:te.a.cybrbtn,to:"/phonebook",children:[Object(ne.jsx)("span",{"aria-hidden":!0,className:te.a.cybrbtn__glitch,children:"Phonebook"}),"Phonebook"]})]})},ce=n(27),ae=n.n(ce),oe=function(){return Object(ne.jsxs)("div",{className:ae.a.container,children:[Object(ne.jsxs)(h.b,{className:ae.a.cybrbtn,to:"/signup",children:[Object(ne.jsx)("span",{"aria-hidden":!0,className:ae.a.cybrbtn__glitch,children:"SignUp"}),"SignUp"]}),Object(ne.jsxs)(h.b,{className:ae.a.cybrbtn,to:"/login",children:[Object(ne.jsx)("span",{"aria-hidden":!0,className:ae.a.cybrbtn__glitch,children:"SignIn"}),"SignIn"]})]})},se=function(e){return e.auth.isAuthenticated},ue=function(e){return e.auth.user.name},ie=n(20),be=n.n(ie),le=n(30),je=n(11),he=n.n(je);he.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var pe=function(e){he.a.defaults.headers.common.Authorization="Bearer ".concat(e)},de=function(){he.a.defaults.headers.common.Authorization=""},fe={register:function(e){return function(){var t=Object(le.a)(be.a.mark((function t(n){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(T.registerRequest()),t.prev=1,t.next=4,he.a.post("/users/signup",e);case 4:r=t.sent,pe(r.data.token),n(T.registerSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(T.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(le.a)(be.a.mark((function t(n){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(T.loginRequest()),t.prev=1,t.next=4,he.a.post("/users/login",e);case 4:r=t.sent,pe(r.data.token),n(T.loginSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(T.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(le.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T.logoutRequest()),e.prev=1,e.next=4,he.a.post("users/logout");case 4:de(),t(T.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(T.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(le.a)(be.a.mark((function e(t,n){var r,c,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),c=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return pe(c),t(T.getCurrentUserRequest()),e.prev=5,e.next=8,he.a.get("users/current");case 8:a=e.sent,t(T.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(T.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}},Oe=n(31),me=n.n(Oe),ge=Object(p.b)((function(e){return{userName:ue(e)}}),(function(e){return{onLogout:function(){return e(fe.logout())}}}))((function(e){var t=e.userName,n=e.onLogout;return Object(ne.jsxs)("div",{className:me.a.container,children:[Object(ne.jsx)("span",{className:me.a.avatar,children:t.slice(0,1)}),Object(ne.jsx)("span",{className:me.a.name,children:t}),Object(ne.jsx)("button",{className:me.a.button,type:"button",onClick:n,children:"Log Out"})]})})),_e=n(56),xe=n.n(_e),ve=Object(p.b)((function(e){return{isAuthenticated:se(e)}}))((function(e){var t=e.isAuthenticated;return Object(ne.jsxs)("div",{className:xe.a.appbar,children:[Object(ne.jsx)(re,{}),t?Object(ne.jsx)(ge,{}):Object(ne.jsx)(oe,{})]})})),ye=n(21),Ce=n.n(ye),Ne=function(e){Object(G.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(W.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.onChange=function(t){var n=t.currentTarget,r=n.name,c=n.value;e.setState(Object(x.a)({},r,c))},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state)},e}return Object(X.a)(n,[{key:"render",value:function(){return Object(ne.jsxs)("form",{className:Ce.a.form,onSubmit:this.handleSubmit,children:[Object(ne.jsx)("h2",{className:Ce.a.heading,children:"Signin"}),Object(ne.jsxs)("label",{className:Ce.a.label,children:["Email",Object(ne.jsx)("input",{className:Ce.a.input,type:"email",name:"email",autoComplete:"off",placeholder:"Enter your e-mail",onChange:this.onChange})]}),Object(ne.jsxs)("label",{className:Ce.a.label,children:["Password",Object(ne.jsx)("input",{className:Ce.a.input,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your password",onChange:this.onChange})]}),Object(ne.jsxs)("button",{type:"submit",className:Ce.a.cybrbtn,children:[Object(ne.jsx)("span",{"aria-hidden":!0,className:Ce.a.cybrbtn__glitch,children:"Sign in"}),"Sign in"]})]})}}]),n}(i.Component),Se=Object(p.b)(null,(function(e){return{onSubmit:function(t){return e(fe.login(t))}}}))(Ne),ke=n(57),we=n.n(ke),Ee=function(){return Object(ne.jsx)("h1",{className:we.a.heading,children:"Welcome to Cyberbook_"})},Le=n(14),Ue=n.n(Le),Ae=function(e){Object(G.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(W.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={name:"",email:"",password:""},e.onChange=function(t){var n=t.currentTarget,r=n.name,c=n.value;e.setState(Object(x.a)({},r,c))},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state)},e}return Object(X.a)(n,[{key:"render",value:function(){return Object(ne.jsxs)("form",{className:Ue.a.form,onSubmit:this.handleSubmit,children:[Object(ne.jsx)("h2",{className:Ue.a.heading,children:"Signup"}),Object(ne.jsxs)("label",{className:Ue.a.label,children:["Name",Object(ne.jsx)("input",{className:Ue.a.input,type:"text",name:"name",autoComplete:"off",placeholder:"Enter your name",onChange:this.onChange})]}),Object(ne.jsxs)("label",{className:Ue.a.label,children:["Email",Object(ne.jsx)("input",{className:Ue.a.input,type:"email",name:"email",autoComplete:"off",placeholder:"Enter your e-mail",onChange:this.onChange})]}),Object(ne.jsxs)("label",{className:Ue.a.label,children:["Password",Object(ne.jsx)("input",{className:Ue.a.input,type:"password",name:"password",autoComplete:"off",placeholder:"Enter your password",onChange:this.onChange})]}),Object(ne.jsxs)("button",{type:"submit",className:Ue.a.cybrbtn,children:[Object(ne.jsx)("span",{"aria-hidden":!0,className:Ue.a.cybrbtn__glitch,children:"Register"}),"Register"]})]})}}]),n}(i.Component),Re=Object(p.b)(null,(function(e){return{onSubmit:function(t){return e(fe.register(t))}}}))(Ae),qe=n(34),Fe=function(e){return e.contacts.loading},Pe=function(e){return e.contacts.contacts},Me=function(e){return e.contacts.filter},Te=Object(qe.a)([Pe,Me],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}));he.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var Be=n(24),De=n.n(Be),Ie=function(e){Object(G.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(W.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:""},e.handleChange=function(t){var n=t.currentTarget,r=n.name,c=n.value;e.setState(Object(x.a)({},r,c))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,c=n.number,a=e.props,o=a.contacts,s=a.onSubmit;if(o.find((function(e){return e.name.toLowerCase()===r.toLowerCase()})))return alert("".concat(r," Already exists")),void e.reset();!function(e){return!/^\d[\d\(\)\ -]{4,14}\d$/.test(e)}(c)?(s(e.state),e.reset()):alert("Enter the correct number phone!")},e.reset=function(){e.setState({name:"",number:""})},e}return Object(X.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number;return Object(ne.jsxs)("form",{className:De.a.form,onSubmit:this.handleSubmit,children:[Object(ne.jsx)("label",{className:De.a.label,htmlFor:"name",children:"Name"}),Object(ne.jsx)("input",{id:"name",type:"text",onChange:this.handleChange,className:De.a.input,name:"name",value:t,placeholder:"Name",autoComplete:"off",autoFocus:!0}),Object(ne.jsx)("label",{className:De.a.label,htmlFor:"number",children:"Number"}),Object(ne.jsx)("input",{id:"number",type:"text",onChange:this.handleChange,className:De.a.input,name:"number",value:n,placeholder:"Phone number",autoComplete:"off"}),Object(ne.jsx)("button",{type:"submit",className:De.a.btn,children:"Add contact"})]})}}]),n}(i.Component),ze=Object(p.b)((function(e){return{contacts:Pe(e)}}),(function(e){return{onSubmit:function(t){var n=t.name,r=t.number;return e(function(e){var t=e.name,n=e.number;return function(e){var r={name:t,number:n};e(S()),he.a.post("/contacts",r).then((function(t){var n=t.data;return e(k(n))})).catch((function(t){return e(w(t.message))}))}}({name:n,number:r}))}}}))(Ie),He=n(37),Ze=n.n(He),Je=function(e){var t=e.filter,n=e.onChange;return Object(ne.jsx)("div",{className:Ze.a.wrapper,children:Object(ne.jsxs)("label",{className:Ze.a.label,children:["Find by Name",Object(ne.jsx)("input",{className:Ze.a.input,type:"text",value:t,onChange:n})]})})};Je.defaultProps={filter:""};var Ke=Object(p.b)((function(e){return{filter:Me(e)}}),(function(e){return{onChange:function(t){return e(A(t.target.value))}}}))(Je),Qe=n(19),Ve=n(29),We=n.n(Ve),Xe=Object(p.b)(null,(function(e){return{onDelete:function(t){return e((n=t,function(e){e(E()),he.a.delete("/contacts/".concat(n)).then((function(){return e(L(n))})).catch((function(t){return e(U(t.message))}))}));var n}}}))((function(e){var t=e.name,n=e.number,r=e.id,c=e.onDelete;return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("span",{children:[t," : ",n]}),Object(ne.jsx)("button",{type:"button",className:We.a.close,onClick:function(){return c(r)},children:"+"})]})})),Ge=Object(p.b)((function(e){return{contacts:Te(e)}}))((function(e){var t=e.contacts;return Object(ne.jsx)(ne.Fragment,{children:t&&Object(ne.jsx)("ul",{className:We.a.list,children:t.map((function(e){return Object(ne.jsx)("li",{className:We.a.item,children:Object(ne.jsx)(Xe,Object(Qe.a)({},e))},e.id)}))})})})),Ye=n(43),$e=n.n(Ye),et=function(e){var t=e.title,n=e.children;return Object(ne.jsxs)("section",{className:$e.a.section,children:[Object(ne.jsx)("h2",{className:$e.a.heading,children:t}),n]})};et.defaultProps={title:""};var tt=et,nt=function(e){Object(G.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(W.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(tt,{title:"Phonebook",children:Object(ne.jsx)(ze,{})}),Object(ne.jsxs)(tt,{title:"Contacts",children:[Object(ne.jsx)(Ke,{}),this.props.isLoadingContacts&&Object(ne.jsx)("h2",{children:" Loading contacts..."}),Object(ne.jsx)(Ge,{})]})]})}}]),n}(i.Component),rt=Object(p.b)((function(e){return{isLoadingContacts:Fe(e)}}),(function(e){return{fetchContacts:function(){return e((function(e){e(y()),he.a.get("/contacts").then((function(t){var n=t.data;return e(C(n))})).catch((function(t){return e(N(t.message))}))}))}}}))(nt),ct=n(36),at=Object(p.b)((function(e){return{isAuthenticated:se(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,c=Object(ct.a)(e,["component","isAuthenticated","redirectTo"]);return Object(ne.jsx)($.b,Object(Qe.a)(Object(Qe.a)({},c),{},{render:function(e){return n&&c.restricted?Object(ne.jsx)($.a,{to:r}):Object(ne.jsx)(t,Object(Qe.a)({},e))}}))})),ot=Object(p.b)((function(e){return{isAuthenticated:se(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,c=Object(ct.a)(e,["component","isAuthenticated","redirectTo"]);return Object(ne.jsx)($.b,Object(Qe.a)(Object(Qe.a)({},c),{},{render:function(e){return n?Object(ne.jsx)(t,Object(Qe.a)({},e)):Object(ne.jsx)($.a,{to:r})}}))})),st=function(e){Object(G.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(W.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(ve,{}),Object(ne.jsxs)($.d,{children:[Object(ne.jsx)(at,{exact:!0,path:"/",component:Ee}),Object(ne.jsx)(at,{path:"/signup",restricted:!0,redirectTo:"/phonebook",component:Re}),Object(ne.jsx)(at,{path:"/login",restricted:!0,redirectTo:"/phonebook",component:Se}),Object(ne.jsx)(ot,{path:"/phonebook",redirectTo:"/login",component:rt})]})]})}}]),n}(i.Component),ut={onGetCurrentUser:fe.getCurrentUser},it=Object(p.b)(null,ut)(st);n(89);j.a.render(Object(ne.jsx)(b.a.StrictMode,{children:Object(ne.jsx)(p.a,{store:V.store,children:Object(ne.jsx)(d.a,{loading:null,persistor:V.persistor,children:Object(ne.jsx)(h.a,{children:Object(ne.jsx)(it,{})})})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.57ab87f4.chunk.js.map